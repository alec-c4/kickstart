pre-commit:
  parallel: true
  commands:
    rspec:
      tags: rspec backend
      run: bundle exec rspec --fail-fast
    brakeman:
      tags: backend
      run: bundle exec brakeman --no-pager
    bundler-audit:
      tags: backend
      run: bundle exec bundler-audit
    fasterer:
      tags: backend
      run: fasterer
    rubocop:
      tags: backend
      run: bundle exec rubocop --parallel --force-exclusion {all_files}
    erb-lint:
      tags: frontend
      run: bundle exec erblint --lint-all -a
    js-linter:
      tags: frontend
      glob: "*.{js,ts,jsx,tsx}"
      run: yarn prettier --write {staged_files} && yarn eslint {staged_files} && git add {staged_files}
    css-linter:
      tags: frontend
      glob: "*.{css,pcss,scss}"
      run: yarn prettier --write {staged_files} && yarn stylelint --fix {staged_files} && git add {staged_files}
